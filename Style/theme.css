/* =============================================================================
   ROOT VARIABLES (KEC Blue & Green Theme)
   Revised to match the KEC Logo while keeping Dark Mode logic intact.
   ========================================================================== */
:root {
    /* --- 1. Brand Hues --- */
    --hue-primary: 195;
    /* KEC Cyan-Blue (from 'E' and 'ENGINEERING') */
    --hue-secondary: 85;
    /* KEC Lime-Green (from 'K' and 'COLLEGE') */
    --hue-accent: 220;
    /* Deep Navy (from 'TRANSFORM YOURSELF') */

    /* --- 2. Color Primitives --- */
    /* Primary: The core Blue brand color */
    --color-primary: hsl(var(--hue-primary), 100%, 43%);
    --color-primary-focus: hsl(var(--hue-primary), 100%, 35%);
    --color-primary-faint: hsl(var(--hue-primary), 100%, 96%);

    /* UI Colors */
    --color-success: hsl(142, 71%, 45%);
    --color-warning: hsl(45, 93%, 47%);
    --color-error: hsl(0, 84%, 60%);

    /* --- 3. Semantic Tokens (Light Mode Default) --- */

    /* Backgrounds */
    --bg-base: hsl(0, 0%, 100%);
    --bg-surface: hsl(var(--hue-accent), 10%, 98%);
    /* Slight tint of Navy */
    --bg-card: hsl(0, 0%, 100%);
    --bg-glass: hsla(0, 0%, 100%, 0.85);

    /* Typography */
    --text-primary: hsl(var(--hue-accent), 60%, 15%);
    /* Deep Navy for Headings */
    --text-body: hsl(var(--hue-accent), 20%, 35%);
    /* Slate Grey for Body */
    --text-muted: hsl(var(--hue-accent), 15%, 55%);
    --text-inverse: hsl(0, 0%, 100%);
    /* White text on Blue */

    /* Borders & Inputs */
    --border-primary: hsl(var(--hue-accent), 15%, 90%);
    --border-accent: hsl(var(--hue-primary), 60%, 80%);
    --input-bg: hsl(0, 0%, 100%);
    --input-border-focus: var(--color-primary);

    /* Gradients & Shadows */
    /* Updated Gradient: Flows from KEC Blue to KEC Green */
    --gradient-button: linear-gradient(135deg, hsl(195, 100%, 43%) 0%, hsl(85, 75%, 45%) 100%);
    --gradient-text: linear-gradient(135deg, hsl(195, 100%, 40%) 0%, hsl(85, 85%, 40%) 100%);

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);

    /* Blue Glow */
    --glow-primary: 0 0 20px hsla(var(--hue-primary), 90%, 50%, 0.35);

    /* Layout & Animation */
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 1rem;

    --font-primary: 'Poppins', system-ui, sans-serif;
    --font-secondary: 'Outfit', sans-serif;

    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-smooth: 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* --- Smooth Transitions for Theme Switching --- */
*,
*::before,
*::after {
    transition-property: background-color, border-color, color, fill, stroke, box-shadow;
    transition-duration: 300ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Preserve specific animations and transitions */
[class*="animate-"],
[class*="transition-"] {
    transition-property: all;
}

/* --- 4. Dark Mode Overrides (System Preference) --- */
/* Only apply if NO manual override exists */
@media (prefers-color-scheme: dark) {
    :root:not(.light) {
        /* Dark Navy Backgrounds */
        --bg-base: hsl(var(--hue-accent), 40%, 8%);
        --bg-surface: hsl(var(--hue-accent), 35%, 12%);
        --bg-card: hsl(var(--hue-accent), 30%, 14%);
        --bg-glass: hsla(var(--hue-accent), 40%, 8%, 0.85);

        --text-primary: hsl(0, 0%, 98%);
        --text-body: hsl(var(--hue-accent), 15%, 80%);
        --text-muted: hsl(var(--hue-accent), 15%, 60%);

        --border-primary: hsl(var(--hue-accent), 30%, 25%);
        --border-accent: hsl(var(--hue-primary), 70%, 30%);

        --input-bg: hsl(var(--hue-accent), 25%, 16%);

        /* Darker faint color for visibility on dark bg */
        --color-primary-faint: hsl(var(--hue-primary), 30%, 15%);

        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
        --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.5);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.6), 0 4px 6px -4px rgb(0 0 0 / 0.5);
    }
}

/* --- 5. Manual Light Mode (Override) --- */
html.light,
:root.light {
    /* Force light mode variables */
    --bg-base: hsl(0, 0%, 100%) !important;
    --bg-surface: hsl(var(--hue-accent), 10%, 98%) !important;
    --bg-card: hsl(0, 0%, 100%) !important;
    --bg-glass: hsla(0, 0%, 100%, 0.85) !important;

    --text-primary: hsl(var(--hue-accent), 60%, 15%) !important;
    --text-body: hsl(var(--hue-accent), 20%, 35%) !important;
    --text-muted: hsl(var(--hue-accent), 15%, 55%) !important;

    --border-primary: hsl(var(--hue-accent), 15%, 90%) !important;
    --border-accent: hsl(var(--hue-primary), 60%, 80%) !important;

    --input-bg: hsl(0, 0%, 100%) !important;
    --color-primary-faint: hsl(var(--hue-primary), 100%, 96%) !important;

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05) !important;
    --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05) !important;
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
}

/* --- 6. Manual Dark Mode Toggle (Triggered by JS .dark class) --- */
html.dark,
:root.dark {
    /* Identical to media query above to ensure toggle works consistently */
    --bg-base: hsl(var(--hue-accent), 40%, 8%) !important;
    --bg-surface: hsl(var(--hue-accent), 35%, 12%) !important;
    --bg-card: hsl(var(--hue-accent), 30%, 14%) !important;
    --bg-glass: hsla(var(--hue-accent), 40%, 8%, 0.85) !important;

    --text-primary: hsl(0, 0%, 98%) !important;
    --text-body: hsl(var(--hue-accent), 15%, 80%) !important;
    --text-muted: hsl(var(--hue-accent), 15%, 60%) !important;

    --border-primary: hsl(var(--hue-accent), 30%, 25%) !important;
    --border-accent: hsl(var(--hue-primary), 70%, 30%) !important;

    --input-bg: hsl(var(--hue-accent), 25%, 16%) !important;
    --color-primary-faint: hsl(var(--hue-primary), 30%, 15%) !important;

    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3) !important;
    --shadow-card: 0 4px 6px -1px rgb(0 0 0 / 0.5) !important;
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.6), 0 4px 6px -4px rgb(0 0 0 / 0.5) !important;
}

/* Dark mode adjustments for specific elements */
html.dark body,
:root.dark body {
    background-color: var(--bg-base);
    color: var(--text-body);
}

/* --- 6. Essential Helper Classes --- */
.glass-effect {
    background: var(--bg-glass);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-primary);
    transition: background-color 300ms ease, border-color 300ms ease;
}

.text-gradient {
    background: var(--gradient-text);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Nav Item Underline Animation */
.nav-item {
    position: relative;
}

.nav-item::before {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--color-primary);
    transition: all 0.3s ease;
    transform: translateX(-50%);
}

.nav-item:hover::before {
    width: 80%;
}

/* Theme Toggle Button Styles */
#theme-toggle,
#theme-toggle-mobile {
    transition: all 300ms ease;
}

#theme-toggle:hover,
#theme-toggle-mobile:hover {
    transform: rotate(15deg) scale(1.1);
}

/* Smooth transitions for all interactive elements */
button,
a,
input,
select,
textarea {
    transition: background-color 300ms ease, border-color 300ms ease, color 300ms ease, transform 200ms ease;
}

/* Dark mode specific overrides for better contrast */
html.dark .bg-white,
:root.dark .bg-white {
    background-color: var(--bg-card) !important;
}

html.dark .text-gray-800,
:root.dark .text-gray-800 {
    color: var(--text-primary) !important;
}

html.dark .text-gray-600,
:root.dark .text-gray-600 {
    color: var(--text-body) !important;
}

html.dark .text-gray-500,
:root.dark .text-gray-500,
html.dark .text-gray-400,
:root.dark .text-gray-400 {
    color: var(--text-muted) !important;
}

html.dark .border-gray-800,
:root.dark .border-gray-800 {
    border-color: var(--border-primary) !important;
}

/* Footer dark mode adjustments */
html.dark footer.bg-gray-950,
:root.dark footer.bg-gray-950 {
    background-color: hsl(var(--hue-accent), 50%, 5%) !important;
}

/* Light mode specific overrides */
html.light footer.bg-gray-950,
:root.light footer.bg-gray-950 {
    background-color: #030712 !important;
}

html.light .bg-white,
:root.light .bg-white {
    background-color: #ffffff !important;
}

html.light .text-gray-800,
:root.light .text-gray-800 {
    color: var(--text-primary) !important;
}

html.light .text-gray-600,
:root.light .text-gray-600 {
    color: var(--text-body) !important;
}

html.light .border-gray-800,
:root.light .border-gray-800 {
    border-color: #1f2937 !important;
}